{
  "id": "com.gruijter.netgear",
  "name": {
			"en": "Netgear Router",
			"nl": "Netgear Router",
      "de": "Netgear-Router"
  },
  "description": {
    "en": "Monitor your Netgear router",
    "nl": "Verbind je Netgear router",
    "de": "√úberwache deinen Netgear-Router"
  },
  "version": "2.5.1",
	"sdk": 2,
  "compatibility": ">= 1.5",
  "author": {
      "name": "Robin Gruijter",
      "email": "gruijter@hotmail.com"
	},
	"contributors": {
		"developers": [{"name": "Robin de Gruijter","email": "gruijter@hotmail.com"}],
		"translators": [{"name": "üá¨üáß Robin"},{"name": "üá≥üá± Robin"},{"name": "üá©üá™ Friedi"}]
	},
	"copyright": "Robin de Gruijter (gruijter@hotmail.com)",
	"license": " GPL-3.0-or-later",
	"contributing": {
		"donate": {
			"paypal": {
				"username": "gruijter"
			}
		}
	},
	"bugs": {
	"url": "https://github.com/gruijter/com.gruijter.netgear/issues"
	},
	"homeyCommunityTopicId": 2259,

  "images": {
    "large": "./assets/images/large.jpg",
    "small": "./assets/images/small.jpg"
  },

	"category": [ "tools", "internet", "localization" ],
	"tags": {
    "en": [ "Netgear", "router", "wifi", "presence", "nighthawk", "orbi" ],
    "de": [ "Netgear", "router", "wifi", "anwesenheid", "nighthawk", "orbi" ], 
    "nl": [ "Netgear", "router", "wifi", "aanwezigheid", "nighthawk", "orbi" ]
  },

	"capabilities": {
			"internet_connection_status": {
					"type": "boolean",
					"title": {
							"en": "Internet connected",
							"nl": "Internet verbonden",
							"de": "Internet verbunden"
					},
					"getable": true,
					"setable": false,
					"insights": true,
					"icon": "./drivers/netgear/assets/internet_connection_status.svg"
			},
			"download_speed": {
					"type": "number",
					"title": {
							"en": "Download speed",
							"nl": "Download snelheid",
							"de": "Download-Geschwindigkeit"
					},
					"getable": true,
					"setable": false,
					"units": {
							"en": "Mbit/s",
							"de": "Mbit/s"
					},
					"insights": true,
					"icon": "./drivers/netgear/assets/download_speed.svg"
			},
			"upload_speed": {
					"type": "number",
					"title": {
							"en": "Upload speed",
							"nl": "Upload snelheid",
							"de": "Upload-Geschwindigkeit"
					},
					"getable": true,
					"setable": false,
					"units": {
							"en": "Mbit/s",
							"de": "Mbit/s"
					},
					"insights": true,
					"icon": "./drivers/netgear/assets/upload_speed.svg"
			},
			"attached_devices": {
					"type": "number",
					"title": {
							"en": "Attached devices",
							"nl": "Verbonden apparaten",
							"de": "Verbundene Ger√§te"
					},
					"getable": true,
					"setable": false,
					"insights": true,
					"icon": "./drivers/netgear/assets/attached_devices.svg"
			}
	},

  "drivers": [
    {
      "id": "netgear",
      "name": {
        "en": "Netgear",
        "nl": "Netgear",
        "de": "Netgear"
      },
			"images": {
			 "large": "drivers/netgear/assets/images/large.jpg",
			 "small": "drivers/netgear/assets/images/small.jpg"
		 	},
      "class": "sensor",
      "capabilities": [ "internet_connection_status", "download_speed", "upload_speed", "attached_devices" ],
			"mobile": {
        "components": [
          {
            "id": "icon",
            "capabilities": [ ]
          },
          {
            "id": "sensor",
            "capabilities": [ "internet_connection_status", "download_speed", "upload_speed", "attached_devices" ],
            "options": {
              "icons": {
                "internet_connection_status": "./drivers/netgear/assets/internet_connection_status.svg",
                "download_speed": "./drivers/netgear/assets/download_speed.svg",
								"upload_speed": "./drivers/netgear/assets/upload_speed.svg",
								"attached_devices": "./drivers/netgear/assets/attached_devices.svg"
              },
              "internet_connection_status":{
                "noblink": false,
                "invert": true,
                "label": {
                  "true": {
                    "en": "yes",
                    "nl": "ja",
                    "de": "ja"
                  },
                  "false": {
                    "en": "no",
                    "nl": "nee",
                    "de": "nein"
                  }
                }
              }
            }
          }
        ]
      },
			"pair": [
				{
					"id": "start"
	      }
      ],
      "settings": [
        {
          "type": "group",
          "label": {
            "en": "Netgear router settings",
            "nl": "Netgear router instellingen",
            "de": "Netgear-Router-Einstellungen"
          },
          "children": [
						{
							"id": "host",
							"type": "text",
							"label": {
								"en": "IP address",
								"nl": "IP adres",
								"de": "IP-Addresse"
							},
							"value": "netgear.net"
						},
						{
							"id": "port",
							"type": "number",
							"label": {
								"en": "SOAP port",
								"nl": "SOAP poort",
								"de": "SOAP-Port"
							},
							"value": 5000
						},
						{
              "id": "username",
              "type": "text",
              "label": {
                "en": "Username",
                "nl": "Gebruikersnaam",
                "de": "Benutzername"
              },
              "value": "admin"
            },
            {
              "id": "password",
              "type": "password",
              "label": {
                "en": "Password",
                "nl": "Wachtwoord",
                "de": "Passwort"
              },
              "value": "password"
            },
						{
							"id": "polling_interval",
							"type": "number",
							"label": {
								"en": "Polling interval (seconds)",
								"nl": "Polling interval (seconden)",
								"de": "Polling interval (Sekunden)"
							},
							"attr": { "min": 20 },
							"value": 60
						},
						{
							"id": "internet_connection_check",
							"type": "dropdown",
							"value": "netgear",
							"label": {
									"en": "Internet check",
									"de": "Internet-Pr√ºfung"
							},
							"values": [
									{
											"id": "netgear",
											"label": {
													"en": "Netgear",
													"de": "Netgear"
											}
									},
									{
											"id": "homey",
											"label": {
													"en": "Homey",
													"de": "Homey"
											}
									}
							],
							"hint": {
								"en": "Which device should check if the internet is connected",
								"nl": "Welk apparaat controleert of internet verbonden is",
								"de": "Welches Ger√§t soll pr√ºfen, ob das Internet verbunden ist"
							}
						}
					]
				},
				{
					"type": "group",
					"label": {
						"en": "Presence settings",
						"nl": "Aanwezigheid instellingen",
						"de": "Anwesenheitseinstellungen"
					},
					"children": [
						{
							"id": "offline_after",
							"type": "number",
							"label": {
								"en": "Offline after (seconds)",
								"nl": "Offline na (seconden)",
								"de": "Offline nach (Sekunden)"
							},
							"attr": { "min": 60 },
							"value": 300
						},
						{
							"id": "clear_known_devices",
							"type": "checkbox",
							"label": {
								"en": "Delete devicelist (!)",
								"nl": "Apparaatlijst legen (!)",
								"de": "Ger√§teliste l√∂schen (!)"
							},
							"value": false,
							"hint": {
								"en": "When checked, the list of known devices will be emptied on save settings",
								"nl": "Aangevinkt: de lijst met bekende apparaten zal worden geleegd bij opslaan van de instellingen",
								"de": "Wenn aktiviert, wird die Liste der bekannten Ger√§te gel√∂scht, sobald die Einstellungen gespeichert werden"
							}
						}
					]
				},
				{
          "type": "group",
          "label": {
            "en": "Netgear router information",
            "nl": "Netgear router informatie",
            "de": "Netgear-Router-Information"
          },
          "children": [
						{
							"id": "model_name",
							"type": "label",
							"label": {
								"en": "Model",
								"nl": "Type",
								"de": "Modell"
							},
							"value": "unknown"
						},
						{
							"id": "serial_number",
							"type": "label",
							"label": {
								"en": "Serial number",
								"nl": "Serienummer",
								"de": "Seriennummer"
							},
							"value": "unknown"
						},
						{
							"id": "firmware_version",
							"type": "label",
							"label": {
								"en": "Firmware version",
								"nl": "Firmware versie",
								"de": "Firmware Version"
							},
							"value": "unknown"
						},
						{
							"id": "smart_agent_version",
							"type": "label",
							"label": {
								"en": "SmartAgent version",
								"nl": "SmartAgent versie",
								"de": "SmartAgent Version"
							},
							"value": "unknown"
						}
					]
				}
			]
		}
	],
	"flow": {
		"triggers": [
  		{
        "id": "connection_start",
        "title": {
          "en": "The internet got connected",
	  			"nl": "Internet verbinding gemaakt",
          "de": "Das Internet wurde verbunden"
    		},
	      "args": [
					{
						"name": "netgear",
						"type": "device",
						"filter": "driver_id=netgear"
					}
	      ]
    	},
	    {
        "id": "connection_stop",
        "title": {
          "en": "The internet got disconnected",
					"nl": "Internet verbinding verbroken",
          "de": "Das Internet wurde getrennt"
        },
        "args": [
					{
						"name": "netgear",
						"type": "device",
						"filter": "driver_id=netgear"
					}
        ]
			},
			{
        "id": "uldl_speed_changed",
        "title": {
          "en": "The up/down speed changed",
					"nl": "Up/down snelheid gewijzigd",
          "de": "Die Up/Down-Geschwindigkeit hat sich ge√§ndert"
        },
        "args": [
					{
						"name": "netgear",
						"type": "device",
						"filter": "driver_id=netgear"
					}
        ],
        "tokens": [
          {
            "name": "upload_speed",
            "type": "number",
            "title": {
              "en": "up",
							"nl": "up",
              "de": "Up"
            },
            "example": 5
          },
          {
            "name": "download_speed",
            "type": "number",
            "title": {
              "en": "down",
							"nl": "down",
              "de": "Down"
            },
            "example": 1
        	}
		   	]
			},
			{
				"id": "device_online",
				"title": {
					"en": "A device came online",
					"nl": "Apparaat komt online",
					"de": "Ein Ger√§t kam online"
				},
				"args": [
					{
						"name": "netgear",
						"type": "device",
						"filter": "driver_id=netgear"
					}
				],
				"tokens": [
					{
						"name": "mac",
						"type": "string",
						"title": {
							"en": "mac",
							"nl": "mac",
							"de": "mac"
						},
						"example": "AA:BB:CC:DD:EE:FF"
					},
					{
						"name": "name",
						"type": "string",
						"title": {
							"en": "name",
							"nl": "naam",
							"de": "Name"
						},
						"example": "iPhone"
					},
					{
						"name": "ip",
						"type": "string",
						"title": {
							"en": "ip",
							"nl": "ip",
							"de": "ip"
						},
						"example": "10.0.0.10"
					}
				]
			},
			{
				"id": "device_offline",
				"title": {
					"en": "A device went offline",
					"nl": "Apparaat raakt offline",
					"de": "Ein Ger√§t ging offline"
				},
				"args": [
					{
						"name": "netgear",
						"type": "device",
						"filter": "driver_id=netgear"
					}
				],
				"tokens": [
					{
						"name": "mac",
						"type": "string",
						"title": {
							"en": "mac",
							"nl": "mac",
							"de": "mac"
						},
						"example": "AA:BB:CC:DD:EE:FF"
					},
					{
						"name": "name",
						"type": "string",
						"title": {
							"en": "name",
							"nl": "naam",
							"de": "Name"
						},
						"example": "iPhone"
					},
					{
						"name": "ip",
						"type": "string",
						"title": {
							"en": "ip",
							"nl": "ip",
							"de": "ip"
						},
						"example": "10.0.0.10"
					}
				]
			},
			{
				"id": "new_attached_device",
				"title": {
					"en": "New connected device",
					"nl": "Nieuw verbonden apparaat",
					"de": "Neues verbundenes Ger√§t"
				},
				"args": [
					{
						"name": "netgear",
						"type": "device",
						"filter": "driver_id=netgear"
					}
				],
				"tokens": [
					{
						"name": "mac",
						"type": "string",
						"title": {
							"en": "mac",
							"nl": "mac",
							"de": "mac"
						},
						"example": "AA:BB:CC:DD:EE:FF"
					},
					{
						"name": "name",
						"type": "string",
						"title": {
							"en": "name",
							"nl": "naam",
							"de": "Name"
						},
						"example": "iPhone"
					},
					{
						"name": "ip",
						"type": "string",
						"title": {
							"en": "ip",
							"nl": "ip",
							"de": "ip"
						},
						"example": "10.0.0.10"
					}
			 	]
			},
			{
        "id": "speed_test_result",
        "title": {
          "en": "Speed test is ready",
					"nl": "Snelheidstest is klaar",
          "de": "Geschwindigkeitstest ist bereit"
        },
        "args": [
					{
						"name": "netgear",
						"type": "device",
						"filter": "driver_id=netgear"
					}
        ],
        "tokens": [
          {
            "name": "uplink_bandwidth",
            "type": "number",
            "title": {
              "en": "up",
							"nl": "up",
              "de": "up"
            },
            "example": 1
          },
          {
            "name": "downlink_bandwidth",
            "type": "number",
            "title": {
              "en": "down",
							"nl": "down",
              "de": "down"
            },
            "example": 5
        	},
					{
            "name": "average_ping",
            "type": "number",
            "title": {
              "en": "ping",
							"nl": "ping",
              "de": "ping"
            },
            "example": 10
        	}
		   	]
			},
			{
				"id": "new_router_firmware",
				"title": {
					"en": "New router firmware available",
					"nl": "Er is nieuwe router firmware",
					"de": "Neue Router-Firmware verf√ºgbar"
				},
				"args": [
					{
						"name": "netgear",
						"type": "device",
						"filter": "driver_id=netgear"
					}
				],
				"tokens": [
					{
						"name": "current_version",
						"type": "string",
						"title": {
							"en": "current",
							"nl": "huidig",
							"de": "aktuell"
						},
						"example": "1.0.9.34"
					},
					{
						"name": "new_version",
						"type": "string",
						"title": {
							"en": "new",
							"nl": "nieuw",
							"de": "neu"
						},
						"example": "1.0.9.42_10.2.44"
					},
					{
						"name": "release_note",
						"type": "string",
						"title": {
							"en": "info",
							"nl": "info",
							"de": "info"
						},
						"example": "security fixes"
					}
				]
			}
		],
		"conditions": [
			{
				"id": "device_online",
				"title": {
					"en": "Device !{{is|isn't}} online (mac)",
					"nl": "Apparaat !{{is|is niet}} online (mac)",
					"de": "Ger√§t !{{ist|ist nicht}} online (mac)"
				},
				"args": [
					{
						"name": "NetgearDevice",
						"type": "device",
						"filter": "driver_id=netgear",
						"placeholder": {
							"en": "Which device",
							"nl": "Welk apparaat",
							"de": "Welches Ger√§t"
						 }
					},
					{
						"type": "autocomplete",
						"name": "mac",
						"placeholder": {
							"en": "AA:BB:CC:DD:EE:FF",
							"de": "AA:BB:CC:DD:EE:FF"
						}
					}
				]
			},
			{
				"id": "device_online_ip_range",
				"title": {
					"en": "!{{A|No}} device online on IP",
					"nl": "!{{Een|Geen}} apparaat online op IP",
					"de": "!{{Ein|Kein}} Ger√§t ist online mit dieser IP"
				},
				"args": [
					{
						"name": "NetgearDevice",
						"type": "device",
						"filter": "driver_id=netgear",
						"placeholder": {
							"en": "Which device",
							"nl": "Welk apparaat",
							"de": "Welches Ger√§t"
						 }
					},
					{
						"type": "number",
						"name": "ip_from",
						"min": 1,
						"max": 255,
						"step": 1,
						"placeholder": {
							"en": "from (1)",
							"nl": "vanaf (1)",
							"de": "von (1)"
						}
					},
					{
						"type": "number",
						"name": "ip_to",
						"min": 1,
						"max": 254,
						"step": 1,
						"placeholder": {
							"en": "to (254)",
							"nl": "tot (254)",
							"de": "bis (254)"
						}
					}
				]
			},
			{
				"id": "new_firmware_condition",
				"title": {
					"en": "!{{New|No}} firmware update",
					"nl": "!{{Er is|Geen}} nieuwe firmware",
					"de": "!{{Neues|Kein}} Firmware-Update"
				},
				"args": [
					{
						"name": "NetgearDevice",
						"type": "device",
						"filter": "driver_id=netgear",
						"placeholder": {
							"en": "Which device",
							"nl": "Welk apparaat",
							"de": "Welches Ger√§t"
						 }
					}
				]
			}
		],
    "actions": [
			{
				"id": "wol",
				"title": {
					"en": "WakeOnLan",
					"nl": "WakeOnLan",
					"de": "WakeOnLan"
				},
				"args": [
					{
						"name": "device",
						"type": "device",
						"filter": "driver_id=netgear"
					},
			    {
		        "type": "autocomplete",
		        "name": "mac",
		        "placeholder": {
		          "en": "AA:BB:CC:DD:EE:FF",
		          "de": "AA:BB:CC:DD:EE:FF"
		        }
					},
          {
            "name": "password",
            "type": "text",
            "placeholder": {
              "en": "password",
              "de": "Passwort"
						 },
						 "value": "00:00:00:00:00:00"
          }
				]
			},
			{
				"id": "block_device_text",
				"title": {
					"en": "Block a device with tag",
					"nl": "Apparaat blokkeren met tag",
					"de": "Ein Ger√§t blockieren mit tag"
				},
				"args": [
					{
						"name": "device",
						"type": "device",
						"filter": "driver_id=netgear"
					},
					{
						"name": "mac",
						"type": "text",
						"placeholder": {
							"en": "AA:BB:CC:DD:EE:FF",
							"de": "AA:BB:CC:DD:EE:FF"
						}
					}
				]
			},
			{
				"id": "block_device",
				"title": {
					"en": "Block a device",
					"nl": "Apparaat blokkeren",
					"de": "Ein Ger√§t blockieren"
				},
				"args": [
					{
						"name": "device",
						"type": "device",
						"filter": "driver_id=netgear"
					},
			    {
		        "type": "autocomplete",
		        "name": "mac",
		        "placeholder": {
		          "en": "AA:BB:CC:DD:EE:FF",
		          "de": "AA:BB:CC:DD:EE:FF"
		        }
			    }
				]
			},
			{
				"id": "allow_device_text",
				"title": {
					"en": "Allow a device with tag",
					"nl": "Apparaat vrijgeven met tag",
					"de": "Ein Ger√§t zulassen mit tag"
				},
				"args": [
					{
						"name": "device",
						"type": "device",
						"filter": "driver_id=netgear"
					},
					{
						"name": "mac",
						"type": "text",
						"placeholder": {
							"en": "AA:BB:CC:DD:EE:FF",
							"de": "AA:BB:CC:DD:EE:FF"
						}
					}
				]
			},
			{
				"id": "allow_device",
				"title": {
					"en": "Allow a device",
					"nl": "Apparaat vrijgeven",
					"de": "Ein Ger√§t zulassen"
				},
				"args": [
					{
						"name": "device",
						"type": "device",
						"filter": "driver_id=netgear"
					},
					{
						"type": "autocomplete",
						"name": "mac",
						"placeholder": {
							"en": "AA:BB:CC:DD:EE:FF",
							"de": "AA:BB:CC:DD:EE:FF"
						}
					}
				]
			},
			{
				"id": "set_guest_wifi",
				"title": {
					"en": "Enable or disable guest wifi",
					"nl": "Gast wifi aan of uit zetten",
					"de": "Ein- oder ausschalten des G√§ste-WIFI"
				},
				"args": [
					{
						"name": "device",
						"type": "device",
						"filter": "driver_id=netgear"
					},
					{
						"type": "dropdown",
						"name": "network",
						"values": [
							{
								"id": "2.4",
								"label": {
									"en": "2.4GHz",
									"nl": "2.4GHz",
									"de": "2,4GHz"
								}
							},
							{
								"id": "5",
								"label": {
									"en": "5GHz",
									"nl": "5GHz",
									"de": "5GHz"
								}
							},
							{
								"id": "2.4-2",
								"label": {
									"en": "2.4GHz-2",
									"nl": "2.4GHz-2",
									"de": "2,4GHz-2"
								}
							},
							{
								"id": "5-2",
								"label": {
									"en": "5GHz-2",
									"nl": "5GHz-2",
									"de": "5GHz-2"
								}
							}
						]
					},
					{
						"type": "dropdown",
						"name": "on_off",
						"values": [
							{
								"id": "on",
								"label": {
									"en": "Enable",
									"nl": "Aan",
									"de": "An"
								}
							},
							{
								"id": "off",
								"label": {
									"en": "Disable",
									"nl": "Uit",
									"de": "Aus"
								}
							}
						]
					}
				]
			},
			{
				"id": "speed_test_start",
				"title": {
					"en": "Start internet speed test",
					"nl": "Doe internet snelheidstest",
					"de": "Starte Internet-Geschwindigkeitstest"
				},
				"args": [
					{
						"name": "device",
						"type": "device",
						"filter": "driver_id=netgear"
					}
				]
			},
			{
				"id": "update_firmware",
				"title": {
					"en": "Update router firmware",
					"nl": "Update router firmware",
					"de": "Update Router-Firmware"
				},
				"args": [
					{
						"name": "device",
						"type": "device",
						"filter": "driver_id=netgear"
					}
				]
			},
			{
				"id": "reboot",
				"title": {
					"en": "Reboot router",
					"nl": "Herstart router",
					"de": "Router neu starten"
				},
				"args": [
					{
						"name": "device",
						"type": "device",
						"filter": "driver_id=netgear"
					}
				]
			}
		]
	}
}
